{
  "llm": {
    "provider": {
      "writer": "mlx",
      "critic": "deepseek"
    },
    "providers": {
      "deepseek": {
        "api_key": "${DEEPSEEK_API_KEY}",
        "base_url": "https://api.deepseek.com",
        "model": "deepseek-chat",
        "max_tokens": 4096,
        "temperature": 0.7,
        "timeout": 120
      },
      "ollama": {
        "base_url": "http://localhost:11434",
        "model": "llama3",
        "max_tokens": 4096,
        "temperature": 0.7
      },
      "openai": {
        "api_key": "${OPENAI_API_KEY}",
        "base_url": "https://api.openai.com/v1",
        "model": "gpt-4",
        "max_tokens": 4096,
        "temperature": 0.7
      },
      "anthropic": {
        "api_key": "${ANTHROPIC_API_KEY}",
        "base_url": "https://api.anthropic.com",
        "model": "claude-3-sonnet-20240229",
        "max_tokens": 4096,
        "temperature": 0.7
      },
      "mlx": {
        "model": "mlx-community/Qwen3-8B-4bit",
        "max_tokens": 512,
        "temperature": 0.7,
        "top_p": 0.9
      }
    },
    "retry": {
      "max_attempts": 5,
      "base_delay": 2,
      "max_delay": 60
    }
  },
  "generation": {
    "_comment": "Repair settings",
    "max_repair_attempts": 3,
    "repair_temperature": 0.3,

    "_comment2": "Meaning preservation (0.0-1.0, higher = stricter)",
    "entailment_threshold": 0.7,
    "proposition_threshold": 0.85,
    "anchor_threshold": 0.9,

    "_comment3": "Length control",
    "max_expansion_ratio": 1.5,
    "target_expansion_ratio": 1.2,
    "truncate_over_expanded": false,

    "_comment4": "LoRA influence (0.0=base only, 0.5=half, 1.0=full, >1.0=amplified)",
    "lora_scale": 1.0,

    "_comment5": "Style settings",
    "style_temperature": 0.7,
    "neutralization_temperature": 0.3,
    "use_neutralization": true,

    "_comment6": "Neutralization token limits (for preserving full content)",
    "neutralization_min_tokens": 300,
    "neutralization_token_multiplier": 1.2,

    "_comment7": "Content anchor detection",
    "analogy_min_length": 10,
    "detect_phase_transitions": true,

    "_comment8": "Hallucination detection",
    "hallucination_check_noun_phrases": true,
    "critical_hallucination_words": "death,god,soul,spirit,heaven,hell,divine,eternal",

    "_comment9": "Post-processing",
    "repetition_threshold": 3,
    "reduce_repetition": true,

    "_comment10": "Document handling",
    "use_document_context": true,
    "pass_headings_unchanged": true,
    "min_paragraph_words": 10
  },
  "style": {
    "_comment": "Perspective options: preserve, first_person_singular, first_person_plural, third_person, author_voice_third_person",
    "perspective": "preserve"
  },
  "log_level": "INFO"
}
